<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- SEO -->
    <title>Heba El-Shimy | Delivering Explainability using Capsule Networks</title>
    <meta name="description" content="PhD Viva Presentation">

    <!-- URL CANONICAL -->
     <link rel="canonical" href="https://www.macs.hw.ac.uk/~he4002/"> 

    <!-- Google Fonts -->
    <!--<link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext" rel="stylesheet">-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <!-- CSS Base -->
    <link rel="stylesheet" type='text/css' media='all' href="css/webslides.css">

    <!-- CSS SVG Icons (Font Awesome) -->
    <link rel="stylesheet" type="text/css" media="all" href="css/svg-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" media="all" href="css/custom.css">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pts/0.10.6/pts.min.js"></script>
  </head>

  <body>
    <header role="banner">
      <nav role="navigation">
        <!--<p class="logo">-->
          <a href="index.html" title="Front">
            <img class="logo" src="images/logo-light.png" alt="HWUD Logo">
            <img class="dark-logo" src="images/logo-dark.png" alt="HWUD Logo">
          </a>
        <!--</p>-->
      </nav>
    </header>

    <main role="main">
      <article id="webslides" class="montserrat-500">

        <!-- Quick Guide
          - Each parent <section> in the <article id="webslides"> element is an individual slide.
          - Vertical sliding = <article id="webslides" class="vertical">
          - <div class="wrap"> = container 90% / <div class="wrap size-50"> = 45%;
        -->

        <!-- Slide 1 -->
        <section id="section-1" data-section-title="Title">
          <span class="background" style="background-image:url('images/first.png');"></span>
          <div class="wrap">
            <h1 class="text-landing text-serif text-white size-60">Delivering Explainability with Capsule Networks in Diagnostic Medical Imaging for Colorectal Cancer</h1>
          </div>
        </section>

        <!-- Slide 2 -->
        <section id="section-2" class="bg-gradient-white" data-section-title="Introduction">
          <div class="aligncenter fadeInUp">
            <span>Presented by</span>
            <h3 class="dm-serif-text-regular">Heba El-Shimy</h3>
            <div class="aligncenter" style="margin-top: 1rem;">
              <span style="display: block;">Provost Fellow | PhD Candidate</span>
              <span style="display: block;">School of Mathematical and Computer Sciences</span>
              <span style="display: block;">Heriot-Watt University Dubai</span>
              <span style="display: block;">Email: <a href="mailto:H.Elshimy@hw.ac.uk" target="_blank">H.Elshimy@hw.ac.uk</a></span>
              <span style="display: block;">Webpage: <a href="https://www.macs.hw.ac.uk/~he4002/" target="_blank">www.macs.hw.ac.uk/~he4002/</a></span>
            </div>
            <hr>
            
            <div style="margin-top: 50px;">
              <span >Supervisors</span>
              <h3 class="dm-serif-text-regular">Prof. Hind Zantout</h3>
              <h3 class="dm-serif-text-regular">Prof. Michael Lones</h3>
              <h3 class="dm-serif-text-regular">Dr. Neamat El Gayar</h3>
            </div>
          </div>

          <div style="position: absolute; bottom: 50px; right: 20px; width: 8.5%;">
            <span style="text-align: center;">Link to slides</span>
            <img src="images/Image.png" alt="qr-code" class="qr-code">
          </div>
        </section>

        <!-- Slide 3 -->
        <section id="section-3" class="bg-gradient-white slide-top" data-section-title="Outline"> 
          <div class="size-70 content-left" style="margin: 7rem 0 0 10rem;">
            <h3 class="dm-serif-text-regular slide-title">Outline</h3>
            <hr>
            <div class="toc">
              <ol>
                <li>
                  <a href="#slide=4" title="Go to Context">
                    <span class="chapter">Context</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=10" title="Go to Gap and Research Questions">
                    <span class="chapter">Gap and Research Questions</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=12" title="Go to Contributions">
                    <span class="chapter">Contributions</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=12" title="Go to Introduction to Capsule Networks">
                    <span class="chapter">Introduction to Capsule Networks</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=15" title="Go to Methodology">
                    <span class="chapter">Methodology</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=17" title="Go to Key Results">
                    <span class="chapter">Key Results</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=20" title="Go to CapsNets Explainability">
                    <span class="chapter">CapsNets Explainability</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=23" title="Go to Applications and Impact">
                    <span class="chapter">Applications and Impact</span>
                  </a>
                </li>
                <li>
                  <a href="#slide=24" title="Go to Conclusions">
                    <span class="chapter">Conclusions</span>
                  </a>
                </li>
              </ol>
            </div>
            <!-- end .toc -->
            </div>
        </section>

        <!-- Slide 4 -->
        <section id="section-4" class="bg-gradient-white slide-top" data-section-title="Context">
          <div class="wrap content-left" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Context</h2>
            <hr>
            <div>
              <p style="font-size: 3.5rem; line-height: 6rem;">
              Investigating methods to develop a system (CADe/x) that could correctly <span style="text-decoration: underline;">detect</span> and <span style="text-decoration: underline;">diagnose</span> colonic polyps; giving <span style="text-decoration: underline;">visual</span> and <span style="text-decoration: underline;">textual</span> explanations for its decisions.
              </p>
            </div>
          </div>
        </section>

        <!-- Slide 5 -->
        <section id="section-5" class="bg-gradient-white slide-top" data-section-title="Context">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Context</h2>
            <hr>
            <div class="size-60">
              <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important;">Why Colon Cancer?</h3>
              <ul style="margin-top: 2rem; font-size: 2.5rem; width: 100%; list-style: disc;">
                <li style="margin-bottom: 2.4rem;">
                  Second most fatal type of cancer worldwide and in the UAE. Prevalence is expected to triple in the UAE by 2040
                  <span class="citation">
                    <span class="citation-icon">ℹ️</span>
                    <div class="tooltip">
                      Data Source: GLOBOCAN 2024.<br>
                      Available at: Global Cancer Observatory<br>
                      <a href='https://gco.iarc.fr' target='_blank'>https://gco.iarc.fr</a>
                    </div>
                  </span>
                </li>
                <li style="margin-bottom: 2.4rem;">
                  Early detection is key in enhancing disease prognosis and saving patients’ lives
                </li>
                <li style="margin-bottom: 2.4rem;">
                  Screening and detection while performing a colonoscopy procedure. Time-limited and live, requires expertise and attention
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 6 -->
        <section id="section-6" class="bg-gradient-white slide-top" data-section-title="Context">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Context</h2>
            <hr>
            <div>
              <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important;">
                Why 
                <span style="text-transform: none !important;">CADe</span> or 
                <span style="text-transform: none !important;">CADx</span>?
              </h3>
              <div class="grid ms">
                <div class="column">
                  <ul style="margin-top: 2rem; font-size: 2.5rem; list-style: disc !important; list-style-type: disc !important;">
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      Lesions have visual features used to classify them into benign, precancerous or cancerous
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      Subtle differences in visual features can be hard to detect by the human eye
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      Clinicians could miss lesions or misdiagnose them; leading to unnecessary procedures or delayed treatment and unfavourable outcomes
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <img src="images/polyps1.png" alt="polyp" style="width: 65%; height: auto; margin-top: -2.4rem;" />
                </div>
              </div>
            </div>
            <div style="font-size: 0.8rem; line-height: 1rem !important;">
              <span>Images source: PICCOLO Dataset. <br/>
                <a href="https://doi.org/10.3390/app10238501" target="_blank">S´anchez-Peralta, L. F., Pagador, J. B., Pic´on, A., Calder´on, A. J., Polo, F., Andraka, N., Bilbao, R., Glover, B., Saratxaga, C. L., & S´anchez-Margallo, F. M. (2020). PICCOLO White-Light and Narrow-Band Imaging Colonoscopic Dataset: A Performance Comparative of Models and Datasets. Applied Sciences, 10 (23), 8501. https://doi.org/10.3390/app10238501</a>
              </span>
            </div>
          </div>
        </section>

        <!-- Slide 7 -->
        <section id="section-7" class="bg-gradient-white slide-top" data-section-title="Context">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Context</h2>
            <hr>
            <div>
              <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important;">
                Why 
                <span style="text-transform: none !important;">CADe</span> or 
                <span style="text-transform: none !important;">CADx</span>?
              </h3>
              <div class="grid ms">
                <div class="column">
                  <ul style="margin-top: 2rem; font-size: 2.5rem; list-style: disc !important; list-style-type: disc !important;">
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important; opacity: 0.2;">
                      Lesions have visual features used to classify them into benign, precancerous or cancerous
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important; opacity: 0.2;">
                      Subtle differences in visual features can be hard to detect by the human eye
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important; opacity: 0.2;">
                      Clinicians could miss lesions or misdiagnose them; leading to unnecessary procedures or delayed treatment and unfavourable outcomes
                    </li>
                    <li style="list-style-type: disc !important;">CADe/x systems are designed to assist clinicians in detecting and diagnosing lesions
                  </ul>
                </div>
                <div class="column">
                  <img src="images/polyps2.png" alt="polyp" style="width: 65%; height: auto; margin-top: -2.4rem;" />
                </div>
              </div>
            </div>
            <div style="font-size: 0.8rem; line-height: 1rem !important;">
              <span>Images source: PICCOLO Dataset. <br/>
                <a href="https://doi.org/10.3390/app10238501" target="_blank">S´anchez-Peralta, L. F., Pagador, J. B., Pic´on, A., Calder´on, A. J., Polo, F., Andraka, N., Bilbao, R., Glover, B., Saratxaga, C. L., & S´anchez-Margallo, F. M. (2020). PICCOLO White-Light and Narrow-Band Imaging Colonoscopic Dataset: A Performance Comparative of Models and Datasets. Applied Sciences, 10 (23), 8501. https://doi.org/10.3390/app10238501</a>
              </span>
            </div>
          </div>
        </section>

        <!-- Slide 8 -->
        <section id="section-8" class="bg-gradient-white slide-top" data-section-title="Context">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Context</h2>
            <hr>
            <div>
              <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important;">
                Explainability
              </h3>
              <div class="grid ms">
                <div class="column">
                  <ul style="margin-top: 2rem; font-size: 2.5rem; list-style: disc !important; list-style-type: disc !important;">
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      Clinicians would like to understand the reasoning behind the model’s decisions: what features of the lesion led to its decision
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      To know when to trust the model and when to override its decisions
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      Confidence in the model’s decisions is crucial for its acceptance and adoption
                    </li>
                    <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                      Ultimately, to comply with the ethical and legal requirements of the healthcare domain (e.g., Paient's Right to Explanation)
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <img src="images/polyps2.png" alt="polyp" style="width: 65%; height: auto; margin-top: -2.4rem;" />
                </div>
              </div>
            </div>
            <div style="font-size: 0.8rem; line-height: 1rem !important;">
              <span>Images source: PICCOLO Dataset. <br/>
                <a href="https://doi.org/10.3390/app10238501" target="_blank">S´anchez-Peralta, L. F., Pagador, J. B., Pic´on, A., Calder´on, A. J., Polo, F., Andraka, N., Bilbao, R., Glover, B., Saratxaga, C. L., & S´anchez-Margallo, F. M. (2020). PICCOLO White-Light and Narrow-Band Imaging Colonoscopic Dataset: A Performance Comparative of Models and Datasets. Applied Sciences, 10 (23), 8501. https://doi.org/10.3390/app10238501</a>
              </span>
            </div>
          </div>
        </section>

        <!-- Slide 9 -->
        <section id="section-9" class="bg-gradient-white slide-top" data-section-title="Context">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Current Research Trend</h2>
            <hr>
            <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important;">
              Virtual Biopsy
            </h3>
            <div class="grid sm">
                <div class="column">
                  <p style="font-size: 3.5rem; line-height: 6rem;">
                  A robust, non-invasive alternative in the surveillance and management of several types of cancer.
                  </p>
                </div>
                <div class="column">
                  <img src="images/news.png" alt="News" class="aligncenter" style="width: 65%; margin-top: -5rem;" />
                </div>
              </div>
            <div style="font-size: 0.8rem; line-height: 1rem !important;">
              <br/>
              <span>Virtual Biopsy: A Safer Future for Cancer Management <br/>
                <a href="https://www.diagnosticimaging.com/view/virtual-biopsy-a-safer-future-for-cancer-management" target="_blank">https://www.diagnosticimaging.com/view/virtual-biopsy-a-safer-future-for-cancer-management</a>
              </span>
            </div>
          </div>
        </section>

        <!-- Slide 10 -->
        <section id="section-10" class="bg-gradient-white slide-top" data-section-title="Gap and Research Questions">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Identified Gap</h2>
            <hr>
            <img src="images/system1.png" alt="CADx" class="aligncenter" style="width: 65%;" />
            <div class="size-80" style="margin-top: 1.2rem;">
              <p style="font-size: 3.5rem; line-height: 6rem;">
              There are not many AI-aided systems to detect colonic polyps real-time (virtual biopsy), and none of them are explainable*
              </p>
            </div>
            <div style="font-size: 0.8rem; line-height: 1rem !important;">
              <span>* Both in literature and on the market; to the best of our knowledge at this time</span><br/>
              <br/>
              <span>Image source: GI Genius™ Intelligent Endoscopy Module <br/>
                <a href="https://www.medtronic.com/covidien/en-us/products/gastrointestinal-artificial-intelligence/gi-genius-intelligent-endoscopy.html" target="_blank">https://www.medtronic.com/covidien/en-us/products/gastrointestinal-artificial-intelligence/gi-genius-intelligent-endoscopy.html</a>
              </span>
            </div>
          </div>
        </section>

        <!-- Slide 11 -->
        <section id="section-11" class="bg-gradient-white slide-top" data-section-title="Gap and Research Questions">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Research Questions</h2>
            <hr>
            <div class="size-70">
              <ul style="margin-top: 2rem; font-size: 2.5rem; list-style: disc !important; list-style-type: disc !important;">
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  How do CapsNets serve as an appropriate architecture for diagnostics in medical imaging?
                </li>
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  What are the abilities and limitations of SSL methods for pre-training CapsNets in medical imaging?
                </li>
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  To what degree is the output of CapsNets interpretable?
                  <ul>
                    <li>How can the resulting interpretations feed into explanations that are meaningful for clinicians?</li>
                  </ul>
                </li>
              </ul>
          </div>
        </section>

        <!-- Slide 12 -->
        <section id="section-12" class="bg-gradient-white slide-top" data-section-title="Contributions">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Contributions</h2>
            <hr>
            <div class="size-90">
              <ol style="font-size: 2.5rem;">
                <li style="margin-bottom: 3.2rem;">
                  Two peer-reviewed papers:
                  <ul>
                    <li>
                      A review of capsule networks in medical image analysis (El-Shimy et al., 2022);
                      <span class="citation">
                        <span class="citation-icon">ℹ️</span>
                        <div class="tooltip">
                          El-Shimy, H., Zantout, H., Lones, M., & Gayar, N. E. (2022). A review of capsule networks in medical image analysis. Lecture notes in computer science, 65– 80.
                          <a href='https://doi.org/10.1007/978-3-031-20650-4\_6' target='_blank'>https://doi.org/10.1007/978-3-031-20650-4\_6</a>
                        </div>
                      </span>
                    </li>
                    <li>
                      Self-Supervised Learning for Pre-training Capsule Networks: Overcoming Medical Imaging Dataset Challenges (accepted, publishing in progress)(El-Shimy et al., 2025)
                      <span class="citation">
                        <span class="citation-icon">ℹ️</span>
                        <div class="tooltip">
                          El-Shimy, H., Zantout, H., Lones, M. A., & Gayar, N. E. (2025). Self-supervised learning for pre-training capsule networks: Overcoming medical imaging dataset challenges.
                          <a href='https://arxiv.org/abs/2502.04748' target='_blank'>https://arxiv.org/abs/2502.04748</a>
                        </div>
                      </span>
                    </li>
                  </ul>
                </li>
                <li style="margin-bottom: 3.2rem;">
                  Developing ModCapsNet, a novel capsule network architecture that generalises across classification, segmentation, and localisation tasks:
                  <ul>
                    <li>
                      Advanced training strategies and adapted loss function;
                    </li>
                    <li>
                      Novel Dual-Lane architecture for processing multi-modal (WL &amp; NBI) images;
                    </li>
                  </ul>
                </li>
                <li style="margin-bottom: 3.2rem;">
                  Creating a SSL framework for pre-training CapsNet that outperforms ImageNet pre-training
                </li>
                <li style="margin-bottom: 3.2rem;">
                  Devising a novel interpretability framework for CapsNets, enabling the generation of explanations in medical terminology
                </li>
              </ol>
          </div>
        </section>

        <!-- Slide 13 -->
        <section id="section-13" class="bg-gradient-white slide-top" data-section-title="Introduction to Capsule Networks">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Capsule Network Architecture</h2>
            <hr>
            
            <div class="grid sm vertical-align" style="margin-top: -3.6rem;"> 
              <div class="column">
                <ul class="description">
                  <li style="line-height: 1.6rem !important;">
                    <strong>Inverse Graphics:</strong><br/> 
                    <span style="font-size: 1.4rem;">Conv layers →  vector-based capsules; learn an object's properties from image as opposed to rendering an objects as an image using geometric properties</span><br/>
                    <p>
                      \begin{aligned}
                        \text{PrimaryCaps} = \text{Reshape}(\text{ConvOutput},\\
                           [N, H, W, C, D])
                      \end{aligned}
                    </p>
                  </li>
                  <li style="line-height: 1.6rem !important;">
                    <strong>Dynamic Routing:</strong><br/>
                    <span style="font-size: 1.4rem;">Agreement-based connections between capsules</span>
                    <p>
                      \begin{aligned}
                      \mathbf{\hat{u}}_{j|i} &= W_{ij} \mathbf{u}_i \\
                      c_{ij} &= \frac{\exp(b_{ij})}{\sum_k \exp(b_{ik})} \\
                      s_j &= \sum_i c_{ij} \mathbf{\hat{u}}_{j|i} \\
                      \mathbf{v}_j &= \frac{||s_j||^2}{1+||s_j||^2} \frac{s_j}{||s_j||} \\
                      b_{ij} &\leftarrow b_{ij} + \mathbf{\hat{u}}_{j|i} \cdot \mathbf{v}_j
                      \end{aligned}
                    </p>
                  </li>
                </ul>
              </div>

              <div class="column">
                <div class="capsnet-visualization-container" style="height: 50vh; width: 100%; border: 1px solid #eee; border-radius: 4px; overflow: hidden;">
                  <iframe src="assets/capsnet-visualization/index.html" style="width: 100%; height: 100%; border: none;"></iframe>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 14 -->
        <section id="section-14" class="bg-gradient-white slide-top" data-section-title="Introduction to Capsule Networks">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">ModCapsNet</h2>
            <hr>
            
            <ul class="flexblock blink" style="margin-top: -4rem; margin-left: -4rem;">
              <li style="text-align: center;"><img src="images/ModCapsNet_Seg.png" alt="ModCapsNet" class="zoomable-image aligncenter" style="width: 50%; height: auto; cursor: pointer;" />Segmentation</li>
              <li style="text-align: center;"><img src="images/ModCapsNet_Cls.png" alt="ModCapsNet" class="zoomable-image aligncenter" style="width: 50%; height: auto; cursor: pointer;" />Classification</li>
            </ul>
            <ul class="flexblock blink" style="margin-left: -4rem;">
              <li style="text-align: center;"><img src="images/ModCapsNetDet.png" alt="ModCapsNet" class="zoomable-image aligncenter" style="width: 50%; height: auto; cursor: pointer;" />Polyp Detection</li>
              <li style="text-align: center; margin-top: -4rem;"><img src="images/ModCapsNet_Cls_Dual.png" alt="ModCapsNet" class="zoomable-image aligncenter" style="width: 40%; height: auto; cursor: pointer;" />Multi-modal</li>
            </ul>
        </section>

        <!-- Slide 15 -->
        <section id="section-15" class="bg-gradient-white slide-top" data-section-title="Methodology">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Methodology</h2>
            <hr>
            <ul class="flexblock clients" style="margin-right: 5rem !important;">
              <li style="text-align: center;">
                <h4 style="margin-bottom: 2.4rem;">PICCOLO</h4>
                <p>3,433 frames; in NBI &amp; WL modalities</p>
                <p>High-quality frames with extenstive annotations</p>
                <p>Small, imbalanced, and exhibits distributional shifts</p>
                <p>Excellent for testing the capability of CapsNet in handling small and imbalanced data; and creating clinically-relevant explanations</p>
              </li>
              <li style="text-align: center;">
                <h4 style="margin-bottom: 2.4rem;">PolypSet</h4>
                <p>37,899 frames; in NBI &amp; WL modalities</p>
                <p>Comprises 4 different datasets</p>
                <p>High variability in quality between frames</p>
                <p>Used for benchmarking and pre-training purposes</p>
              </li>
            </ul>
        </section>

        <!-- Slide 16 -->
        <section id="section-16" class="bg-gradient-white slide-top" data-section-title="Methodology">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Data Preprocessing</h2>
            <hr>
            <img src="images/pipeline.png" alt="Preprocessing" class="aligncenter" style="width: 75%; margin-top: -2.4rem;" />
          </div>
        </section>

        <!-- Slide 17 -->
        <section id="section-17" class="bg-gradient-white slide-top" data-section-title="Key Results">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Key Results</h2>
            <hr>
            <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important; margin-top: -2.4rem;">
              Segmentation
            </h3>
            <ul class="flexblock features" style="margin-right: 5rem !important; margin-top: -0.2rem;">
              <li>
                <img src="images/results-seg.png" alt="Results table" class="aligncenter" style="width: 80%;" />
              </li>
              <li>
                <img src="images/figure-seg.png" alt="Sample outputs" class="aligncenter" style="width: 80%;" />
              </li>
            </ul>
          </div>
        </section>

        <!-- Slide 18 -->
        <section id="section-18" class="bg-gradient-white slide-top" data-section-title="Key Results">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Key Results</h2>
            <hr>
            <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important; margin-top: -2.4rem;">
              Polyp Localisation
            </h3>
            <ul class="flexblock features" style="margin-right: 5rem !important; margin-top: -0.2rem;">
              <li>
                <img src="images/results-det.png" alt="Results table" class="aligncenter" style="width: 75%;" />
              </li>
              <li>
                <img src="images/figure-det.png" alt="Sample outputs" class="aligncenter" style="width: 75%; margin-right: 5rem;" />
              </li>
            </ul>
          </div>
        </section>

        <!-- Slide 19 -->
        <section id="section-19" class="bg-gradient-white slide-top" data-section-title="Key Results">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Key Results</h2>
            <hr>
            <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important; margin-top: -2.4rem;">
              Classification
            </h3>
            <ul class="flexblock features" style="margin-right: 5rem !important; margin-top: -0.2rem;">
              <li>
                <div style="overflow: hidden; height: 400px !important; display: block;">
                  <div style="overflow-y: auto; height: 100%; max-height: 400px;">
                    <img src="images/results-cls.png" alt="Results table" class="aligncenter" style="width: 100%;" />
                  </div>
                </div>
              </li>
              <li>
                <div style="overflow: hidden; height: 400px !important; display: block;">
                  <div style="overflow-y: auto; height: 100%; max-height: 400px;">
                    <img src="images/results-cls2.png" alt="Results table" class="aligncenter" style="width: 100%;" />
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </section>

        <!-- Slide 20 -->
        <section id="section-20" class="bg-gradient-white slide-top" data-section-title="CapsNet Explainability">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">CapsNet Explainability</h2>
            <hr>
            
            <div style="margin-right: 5rem;">
              <div class="capsnet-visualization-container" style="height: 50vh; width: 100%; border: 1px solid #eee; border-radius: 4px; overflow: hidden;">
                <iframe src="assets/capsnet-visualization/routing.html" style="width: 100%; height: 100%; border: none;"></iframe>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 21 -->
        <section id="section-21" class="bg-gradient-white slide-top" data-section-title="CapsNet Explainability">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">CapsNet Explainability</h2>
            <hr>
            
            <div style="padding-right: 3.5rem !important;">
              <ul class="flexblock blink">
                <li>
                  <ul style="list-style: disc !important; list-style-type: disc !important; display: block; font-size: 2.4rem; font-weight: 400;">
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">Our innovative interpretability framework enables extracting capsules with the highest agreement scores; influencing the model's decision.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">Projecting these capsule vectors onto a shared embedding space, along with text embeddings of polyp features in medical terms provides a clinically-relevant explanation stemming from the network's inner workings.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem; display: inline;">Our findings indicate that capsules endcoded rich visual features of polyps that were successfully translated to terminology used by physicians
                      <span class="citation">
                        <span class="citation-icon">🔍</span>
                        <div class="tooltip">
                          Click to view semantic similarity visualization
                        </div>
                      </span>
                    </li>
                  </ul>
                </li>
                <li style="position: relative; min-height: 400px;">
                  <!-- Container for the Pts.js animation -->
                  <div id="pts-animation" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; min-height: 400px; z-index:-10;
                    opacity: 0.8;"></div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 22 -->
        <section id="section-22" class="bg-gradient-white slide-top" data-section-title="CapsNet Explainability">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">CapsNet Explainability</h2>
            <hr>
            <h3 class="text-subtitle text-gray" style="text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.6) !important; margin-top: -2.4rem;">
              Deeper dive into capsules using <span style="text-transform: none !important;">SAEs</span>
            </h3>
            <div style="padding-right: 3.5rem !important; margin-top: 2.4rem;">
              <ul class="flexblock blink">
                <li>
                  <ul style="list-style: disc !important; list-style-type: disc !important; display: block; font-size: 2.4rem; font-weight: 400;">
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">SAEs disentangle the complex representations within capsule vectors, isolating individual parameters.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">This granular decomposition reveals how the network encodes properties such as texture patterns, colour variations, and morphological characteristics that are diagnostically significant.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem; display: inline;">Results demonstrated that specific instantiation parameters consistently activate in response to particular medical features across multiple samples, indicating that the network learns meaningful and interpretable representations
                      <span class="citation">
                        <span class="citation-icon">🔍</span>
                        <div class="tooltip">
                          Click to view parameter analysis visualization
                        </div>
                      </span>
                    </li>
                  </ul>
                </li>
                <li style="position: relative; min-height: 400px;">
                  <!-- Container for the Pts.js animation -->
                  <div id="pts-animation" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; min-height: 400px; z-index:-10;
                    opacity: 0.8;"></div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 23 -->
        <section id="section-23" class="bg-gradient-white slide-top" data-section-title="Applications and Impact">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Applications and Impact</h2>
            <hr>
            
            <div style="padding-right: 3.5rem !important;">
              <ul class="flexblock blink">
                <li>
                  <ul style="list-style: disc !important; list-style-type: disc !important; display: block; font-size: 2.4rem; font-weight: 400;">
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">We envision a CADe/x system that aids physicians in detecting polyps in real-time, classify and diagnose polyps, and explain the polyp's characteristics that contributed to the diagnosis.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">Initial meetings with physicians validate our idea and indicated the need for such CADe/x system as a useful aid, as well as a training tool for medical students and junior doctors.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">The proposed system could be integrated with existing endoscopic equipment, and could be used even in medical facilities in low-income countries where access to medical expertise is limited.</li>
                    <li style="list-style-type: disc !important; margin-bottom: 2.4rem;">True potential for saving lives.</li>
                  </ul>
                </li>
                <!--<li style="position: relative; min-height: 400px;">-->
                <!--  <img src="images/app.png" alt="Impact" class="aligncenter" style="width: 100%; filter: drop-shadow(0px 5px 10px rgba(0, 0, 0, 0.28)); border-radius: 5px;" /> -->
                <!--</li>-->
              </ul>
            </div>
          </div>
        </section>

        <!-- Slide 24 -->
        <section id="section-24" class="bg-gradient-white slide-top" data-section-title="Conclusions">
          <div class="wrap" style="margin: 1rem 0 0 5rem;">
            <h2 class="dm-serif-text-regular slide-title">Conclusions</h2>
            <hr>
            <div class="size-70">
              <ul style="margin-top: 2rem; font-size: 2.5rem; list-style: disc !important; list-style-type: disc !important;">
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  CapsNets are a promising architecture for medical imaging tasks, especially due to their inherent interpretability and ability to generalise across tasks
                </li>
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  Our innovative CapsNet interpretability framework enables the generation of explanations that are meaningful for clinicians, contributing to the field of xAI
                </li>
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  Data quality remain key to the success of any AI system, and affect the quality of the generated explanations, not just the model performance
                </li>
                <li style="margin-bottom: 2.4rem; list-style-type: disc !important;">
                  Doctors seeking to use CADe/x systems in their practice are a key part of the development process; their feedback is crucial, and they should be encouraged to help collect and annotate the data with the explanations they expect to get from the system.
                </li>
              </ul>
          </div>
        </section>

        <!-- Slide 25 -->
        <section id="section-25" data-section-title="Conclusions">
          <span class="background" style="background-image:url('images/first.png');"></span>
          <div class="wrap">
            <h1 class="text-landing text-serif text-white size-60">Thank You</h1>
          </div>
        </section>

    </main>
    <!--main-->


    <!-- Image Overlay Container -->
    <div id="imageOverlay" class="image-overlay">
        <div class="overlay-content" style="background-color: rgb(255 255 255); color: #333;">
          <span class="close-button">&times;</span>
          <img id="expandedImg" src="" alt="Expanded Image">
          <div id="overlayCaption"></div>
        </div>
      </div>
    </section>

    <!-- Progress Bar -->
    <div class="progress-bar">
      <div class="progress-indicator"></div>
      <div class="progress-label">
        <div class="progress-section"></div>
      </div>
    </div>

    <footer>
      <div class"wrap">
        <p class="text-gray montserrat-400">
          <a class="link-underline" href="https://www.macs.hw.ac.uk/~he4002/">Heba El-Shimy</a> &copy; April 2025
        </p>
      </div>
    </footer>

    <!-- Required -->
    <script src="js/webslides.js"></script>

    <script>
      window.ws = new WebSlides();
    </script>
    
    <script src="js/progress-bar.js"></script>
    <script src="js/logo.js"></script>
    <script src="js/image-expand.js"></script>

    <!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
    <script defer src="js/svg-icons.js"></script>

    <!-- Script to initialize the Pts.js animation --> 
    <script>
      // Wait for DOM to be fully loaded
      document.addEventListener('DOMContentLoaded', function() {
        // Check if Pts.js is loaded
        if (typeof Pts === 'undefined') {
          console.error('Pts.js library not loaded. Please include it in your HTML head.');
          return;
        }
        
        // Animation variables - define at the global level to fix "animations is not defined" error
        var animations = {};
        
        // List of slide IDs that should have the animation
        const animationSlides = ['section-21', 'section-22'];
        
        // Initialize on page load for any visible slide
        animationSlides.forEach(function(slideId) {
          if (document.querySelector(`#${slideId}.current`)) {
            initPtsAnimation(slideId);
          }
        });
        
        // Set up a simple checker that runs periodically
        setInterval(function() {
          animationSlides.forEach(function(slideId) {
            const slide = document.getElementById(slideId);
            if (slide && slide.classList.contains('current')) {
              if (!animations[slideId] || !animations[slideId].isRunning) {
                initPtsAnimation(slideId);
              }
            } else {
              // If slide is not visible, stop animation
              if (animations[slideId] && animations[slideId].space) {
                animations[slideId].space.pause();
                animations[slideId].isRunning = false;
              }
            }
          });
        }, 500);  // Check every 500ms
        
        // Function to initialize animation on a specific slide
        function initPtsAnimation(slideId) {
          // Return if animation is already running
          if (animations[slideId] && animations[slideId].isRunning) {
            return;
          }
          
          // Get the container within this slide
          const container = document.querySelector(`#${slideId} #pts-animation`);
          if (!container) {
            console.error('Animation container not found in slide', slideId);
            return;
          }
          
          // Clear the container
          container.innerHTML = '';
          
          // Create canvas with correct size
          const canvas = document.createElement('canvas');
          canvas.id = `pts-canvas-${slideId}`;
          canvas.style.width = '100%';
          canvas.style.height = '100%';
          container.appendChild(canvas);
          
          // Initialize Pts
          const space = new Pts.CanvasSpace(`#${canvas.id}`).setup({
            bgcolor: "transparent", 
            resize: true,
            retina: true
          });
          const form = space.getForm();
          
          // Initialize pairs array
          var pairs = [];
          
          // Add the animation
          space.add({
            start: (bound) => {
              let r = space.size.minValue().value / 2;
              pairs = []; // Clear existing pairs
              
              // create 200 lines
              for (let i = 0; i < 200; i++) {
                let ln = new Pts.Group(
                  Pts.Pt.make(2, r, true),
                  Pts.Pt.make(2, -r, true)
                );
                ln.moveBy(space.center).rotate2D(i * Math.PI / 200, space.center);
                pairs.push(ln);
              }
            },
            
            animate: (time, ftime) => {
              // Clear with transparent background
              space.clear("transparent");
              
              for (let i = 0, len = pairs.length; i < len; i++) {
                // rotate each line by 0.1 degree and check collinearity with pointer
                let ln = pairs[i];
                ln.rotate2D(Pts.Const.one_degree / 10, space.center);
                let collinear = Pts.Line.collinear(ln[0], ln[1], space.pointer, 0.1);
                
                if (collinear) {
                  // Highlighted lines when collinear - subtle blue
                  form.stroke("rgba(41, 98, 150, 0.4)").line(ln);
                } else {
                  // Regular lines - very faint colors that match your design
                  let side = Pts.Line.sideOfPt2D(ln, space.pointer);
                  // Using navy blue and teal tones with very low opacity
                  form.stroke((side < 0) ? "rgba(23, 55, 94, 0.08)" : "rgba(0, 128, 128, 0.08)").line(ln);
                }
                
                // Very subtle dots at line endpoints - almost invisible
                form.fillOnly("rgba(200, 200, 200, 0.4)").points(ln, 0.3);
              }
              
              // More subtle pointer indicator - navy blue dot
              form.fillOnly("rgba(41, 98, 150, 0.7)").point(space.pointer, 2.5, "circle");
            }
          });
          
          // Start the animation
          space.bindMouse().bindTouch().play();
          
          // Store the animation reference
          animations[slideId] = {
            space: space,
            isRunning: true
          };
        }
      });
    </script>

    <script>
      // Check if this page is loaded in an iframe with forceDesktop parameter
      window.addEventListener('DOMContentLoaded', () => {
        if (window !== window.top && window.location.search.includes('forceDesktop=true')) {
          // Force desktop viewport
          const viewport = document.querySelector('meta[name="viewport"]');
          if (viewport) {
            viewport.setAttribute('content', 'width=1280, initial-scale=1');
          } else {
            const meta = document.createElement('meta');
            meta.name = 'viewport';
            meta.content = 'width=1280, initial-scale=1';
            document.head.appendChild(meta);
          }
          
          // Add a class to the body to disable mobile-specific styles if needed
          document.body.classList.add('force-desktop-view');
        }
      });
    </script>

  </body>
</html>
